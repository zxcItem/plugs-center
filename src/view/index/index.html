{extend name='main'}

{block name='content'}
<div class="layui-tab layui-tab-card ">
    <ul class="layui-tab-title">
        {foreach $typeList as $k=>$v}{if isset($type) and $type eq $k}
        <li class="layui-this" data-open="{:url('index')}?type={$k}">{$v}</li>
        {else}
        <li data-open="{:url('index')}?type={$k}">{$v}</li>
        {/if}{/foreach}
    </ul>
    <div class="layui-tab-content">
        <div class="layui-row layui-col-space15">
            {foreach :array_values($items) as $k=>$item}
            <div class="layui-col-xs12 layui-col-sm6 layui-col-md4 layui-col-lg3">
                <div class="shadow border-radius-6 ta-p-15 think-bg-white">
                    <div class="plugin-item">
                        <div class="plugin-item-icon uploadimage shadow-none {:random_bgc($k)}" data-lazy-src="{$item.cover|default=''}" data-href="{$item.center}">
                            <div class="plugin-item-tags flex flex-between">
                                <div class="layui-badge layui-bg-cyan">{$item.code|default=''}</div>
                                {notempty name='item.version'}
                                <div class="layui-badge think-bg-violet">{$item.version|default=''}</div>
                                {/notempty}
                            </div>
                            <div class="plugin-item-name">
                                <div class="layui-elip">{$item.name}</div>
                            </div>
                            <div class="plugin-item-desc">
                                <div class="layui-elip">{$item.remark}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {/foreach}
            {empty name='items'}
            <div>
                <div class="notdata">无记录</div>
            </div>
            {/empty}
        </div>
    </div>
</div>
{/block}

{block name='style'}
<style>
    .layui-tab-content{
        height: calc( 100vh - 200px);
        overflow-y: auto;
    }
    .plugin-item:hover .uploadimage {
        background-position: 0 0 !important;
    }

    .plugin-item-icon {
        width: 100%;
        padding-top: 15%;
        margin-bottom: 0;
    }

    .plugin-item-name {
        top: 25%;
        left: 0;
        right: 0;
        color: #fff;
        position: absolute;
        font-size: 30px;
        line-height: 2em;
        text-align: center;
    }

    .plugin-item-desc {
        left: 0;
        right: 0;
        color: #fff;
        bottom: 0;
        padding: 0.8em 0;
        position: absolute;
        text-align: center;
        background-color: rgba(0, 0, 0, 0.6);
    }

    .plugin-item-tags {
        top: 0;
        left: 0;
        right: 0;
        padding: 5px;
        position: absolute;
    }

    .plugin-item-tags .layui-badge {
        margin: 0;
        box-shadow: 1px 1px 2px 0 rgba(50, 50, 54, 0.5);
    }
</style>
{/block}